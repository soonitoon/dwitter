{"version":3,"sources":["mybase.js","components/AuthWithSocial.js","routes/AuthForm.js","components/Dwitte.js","components/DwitteFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","REACT_APP_PP_ID","firebase","initializeApp","firebaseInstance","AuthService","auth","DBService","firestore","storageService","storage","AuthWithSocial","useState","socialLoginError","SetsocialLoginError","onSocialClick","event","a","name","target","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","message","onClick","className","AuthForm","error","setError","email","setEmail","password","setPassword","newAccount","setNewAccount","onChange","value","onSubmit","preventDefault","createUserWithEmailAndPassword","signInWithEmailAndPassword","type","required","placeholder","prev","Dwitte","dwitteObj","isOwner","userName","editing","setEditing","text","newDwitte","setNewDwitte","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentURL","toggleEditing","update","creatorName","src","width","height","DwitteFactory","userObj","dwitte","setDwitte","attachment","setAttachment","errorMsg","setErrorMsg","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","createdAt","Date","now","creatorId","displayName","collection","add","maxLength","for","accept","theFile","files","reader","FileReader","readAsDataURL","onloadend","finishedEvent","result","currentTarget","Home","dwittes","setDwittes","useEffect","orderBy","onSnapshot","snapshot","dwitteArray","docs","map","data","dw","key","Navigation","setDisplayName","to","Profile","refreshUserObj","history","useHistory","setDwitteArray","newDisplayName","setNewDisplayName","getMyDwittes","where","get","updateProfile","signOut","push","AppRouter","isLoggedIn","exact","path","App","init","setInit","currentUser","setIsLoggedIn","setUserObj","onAuthStateChanged","User","newProfile","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6cb30dfd.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n  appId: process.env.REACT_APP_PP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\nexport const AuthService = firebase.auth();\nexport const DBService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import { AuthService, firebaseInstance } from \"mybase\";\nimport React, { useState } from \"react\";\n\nconst AuthWithSocial = () => {\n  const [socialLoginError, SetsocialLoginError] = useState(\"\");\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n    try {\n      await AuthService.signInWithPopup(provider);\n    } catch (err) {\n      SetsocialLoginError(err.message);\n    }\n  };\n  return (\n    <>\n      <button onClick={onSocialClick} name=\"google\" className=\"google-login\">\n        Goolge로 가입하기\n      </button>\n      <br />\n      <button onClick={onSocialClick} name=\"github\" className=\"github-login\">\n        Github으로 가입하기\n      </button>\n      <p className=\"login-error\">{socialLoginError}</p>\n    </>\n  );\n};\n\nexport default AuthWithSocial;\n","import React, { useEffect, useState } from \"react\";\nimport { AuthService } from \"mybase\";\nimport AuthWithSocial from \"components/AuthWithSocial\";\nimport { BsPeople, BsSearch } from \"react-icons/bs\";\nimport { IoChatbubbleOutline, IoLogoTwitter } from \"react-icons/io5\";\n\nconst AuthForm = () => {\n  const [error, setError] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(false);\n  const toggleAccount = () => {\n    setNewAccount((prev) => !prev);\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      if (newAccount) {\n        await AuthService.createUserWithEmailAndPassword(email, password);\n      } else {\n        await AuthService.signInWithEmailAndPassword(email, password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <>\n      <IoLogoTwitter className=\"top-dwitte-icon\" />\n      <h1 className=\"main-title\">\n        지금 전 세계에서 무슨 일이\n        <br /> 일어나고 있는지 알아보세요.\n      </h1>\n      <h5 className=\"sub-title\">오늘 드위터에 가입하세요.</h5>\n      <AuthWithSocial />\n      <div className=\"color-box\">\n        <h5 className=\"color-box-text\">\n          <BsSearch className=\"color-box-icon\" />\n          <div>관심사를 팔로우 하세요.</div>\n        </h5>\n        <h5 className=\"color-box-text\">\n          <BsPeople className=\"color-box-icon\" />\n          <di>\n            사람들이 무엇에 대해 이야기하고\n            <br />\n            있는지 알아보세요.\n          </di>\n        </h5>\n      </div>\n      <h5 className=\"make-account-title\">혹은, 직접 로그인.</h5>\n      <form onSubmit={onSubmit} className=\"LoginForm\">\n        <input\n          name=\"email\"\n          type=\"text\"\n          required\n          value={email}\n          onChange={onChange}\n          placeholder=\"example@email.com\"\n          className=\"email-input\"\n        ></input>\n        <input\n          name=\"password\"\n          type=\"password\"\n          required\n          value={password}\n          onChange={onChange}\n          placeholder=\"password\"\n          className=\"password-input\"\n        ></input>\n        <input\n          type=\"submit\"\n          className=\"submit-account\"\n          value={newAccount ? \"만들기\" : \"로그인\"}\n        ></input>\n        <button onClick={toggleAccount} className=\"toggle-login\">\n          {newAccount ? \"계정이 있나요?\" : \"계정 만들기\"}\n        </button>\n      </form>\n      <p className=\"login-error\">{error}</p>\n      <footer className=\"AuthFooter\">\n        <p>트위터 클론코딩 -드위터</p>\n      </footer>\n    </>\n  );\n};\n\nexport default AuthForm;\n","import { DBService, storageService } from \"mybase\";\nimport React, { useState } from \"react\";\nimport { BsFillTrashFill, BsPencilSquare } from \"react-icons/bs\";\nimport { ImCancelCircle, ImCheckmark } from \"react-icons/im\";\n\nconst Dwitte = ({ dwitteObj, isOwner, userName }) => {\n  const [editing, setEditing] = useState(false);\n  const [newDwitte, setNewDwitte] = useState(dwitteObj.text);\n\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure?\");\n    if (ok) {\n      await DBService.doc(`dwitte/${dwitteObj.id}`).delete();\n      await storageService.refFromURL(dwitteObj.attachmentURL).delete();\n    }\n  };\n\n  const toggleEditing = () => {\n    setEditing((prev) => !prev);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await DBService.doc(`dwitte/${dwitteObj.id}`).update({\n      text: newDwitte,\n    });\n    setEditing(false);\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDwitte(value);\n  };\n\n  return (\n    <div className=\"dwitte\">\n      {editing ? (\n        <>\n          <form onSubmit={onSubmit}>\n            <h4 className=\"username\">{dwitteObj.creatorName}</h4>\n            <input\n              type=\"text\"\n              placeholder=\"Edit your dwitte\"\n              value={newDwitte}\n              required\n              onChange={onChange}\n              className=\"new-dwitte-input\"\n            />\n            <button type=\"submit\" className=\"submit-new-dwitte\">\n              <ImCheckmark />\n            </button>\n          </form>\n          <button onClick={toggleEditing} className=\"cancel-editing\">\n            <ImCancelCircle />\n          </button>\n        </>\n      ) : (\n        <>\n          <h4 className=\"username\">{dwitteObj.creatorName}</h4>\n          <h4 className=\"dwitte-text\">{dwitteObj.text}</h4>\n          {dwitteObj.attachmentURL && (\n            <img\n              src={dwitteObj.attachmentURL}\n              width=\"110px\"\n              height=\"110px\"\n              className=\"dwitte-image\"\n            />\n          )}\n          {isOwner && (\n            <>\n              <button onClick={onDeleteClick} className=\"delete-dwitte\">\n                <BsFillTrashFill />\n              </button>\n              <button onClick={toggleEditing} className=\"edit-dwitte\">\n                <BsPencilSquare />\n              </button>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Dwitte;\n","import React, { useState } from \"react\";\nimport { storageService, DBService } from \"mybase\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nconst DwitteFactory = ({ userObj }) => {\n  const [dwitte, setDwitte] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const onFileChange = (event) => {\n    const {\n      target: { files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(theFile);\n    reader.onloadend = (finishedEvent) => {\n      const {\n        currentTarget: { result },\n      } = finishedEvent;\n      setAttachment(result);\n    };\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setDwitte(value);\n  };\n\n  const onSubmit = async (event) => {\n    if (dwitte !== \"\") {\n      event.preventDefault();\n      let attachmentURL = \"\";\n      if (attachment != \"\") {\n        const attachmentRef = storageService\n          .ref()\n          .child(`${userObj.uid}/${uuidv4()}`);\n        const response = await attachmentRef.putString(attachment, \"data_url\");\n        attachmentURL = await response.ref.getDownloadURL();\n      }\n      const dwitteObj = {\n        text: dwitte,\n        createdAt: Date.now(),\n        creatorId: userObj.uid,\n        creatorName: userObj.displayName,\n        attachmentURL,\n      };\n      await DBService.collection(\"dwitte\").add(dwitteObj);\n      setDwitte(\"\");\n      setAttachment(\"\");\n      setErrorMsg(\"\");\n    } else {\n      setErrorMsg(\"no dwitte!\");\n    }\n  };\n\n  const onClearAttachmentClick = () => {\n    setAttachment(null);\n  };\n\n  return (\n    <form onSubmit={onSubmit} className=\"dwitte-form\">\n      <input\n        value={dwitte}\n        onChange={onChange}\n        type=\"text\"\n        placeholder=\"What's your mind?\"\n        maxLength={120}\n        className=\"dwitte-input\"\n      />\n      <input type=\"submit\" value=\"dwitte\" className=\"submit-dwitte\" />\n      <label for=\"fileInput\" className=\"file-upload-btn\">\n        <MdAddAPhoto />\n      </label>\n      <p className=\"dwitte-error-msg\">{errorMsg}</p>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={onFileChange}\n        id=\"fileInput\"\n        className=\"file-input\"\n      />\n      {attachment && (\n        <>\n          <img\n            src={attachment}\n            width=\"50px\"\n            height=\"50px\"\n            className=\"attach-img\"\n          />\n          <button onClick={onClearAttachmentClick} className=\"delete-img\">\n            X\n          </button>\n        </>\n      )}\n    </form>\n  );\n};\n\nexport default DwitteFactory;\n","import { DBService } from \"mybase\";\nimport React, { useEffect, useState } from \"react\";\nimport Dwitte from \"components/Dwitte\";\nimport DwitteFactory from \"components/DwitteFactory\";\n\nconst Home = ({ userObj }) => {\n  const [dwittes, setDwittes] = useState([]);\n\n  useEffect(() => {\n    DBService.collection(\"dwitte\")\n      .orderBy(\"createdAt\", \"desc\")\n      .onSnapshot((snapshot) => {\n        const dwitteArray = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setDwittes(dwitteArray);\n      });\n  }, []);\n\n  return (\n    <div className=\"dwitte-container\">\n      <div className=\"dummy\"></div>\n      <DwitteFactory userObj={userObj} />\n      {dwittes.map((dw) => (\n        <Dwitte\n          key={dw.id}\n          dwitteObj={dw}\n          isOwner={dw.creatorId === userObj.uid}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"components/CSS/style_Main.css\";\nimport { HiOutlineCog } from \"react-icons/hi\";\n\nconst Navigation = ({ userObj }) => {\n  const [displayName, setDisplayName] = useState(\"username\");\n  useEffect(() => {\n    if (userObj.displayName) {\n      setDisplayName(userObj.displayName);\n    }\n  });\n  return (\n    <nav>\n      <div className=\"nav-container\">\n        <h5 className=\"home-link\">\n          <Link to=\"/\" className=\"link\">\n            Home\n          </Link>\n        </h5>\n        <h5 className=\"profile-link\">\n          <HiOutlineCog className=\"gear-icon\" />\n          <Link to=\"/profile\" className=\"link profile-name\">\n            {displayName}\n          </Link>\n        </h5>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { AuthService, DBService } from \"mybase\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Dwitte from \"components/Dwitte\";\n\nconst Profile = ({ userObj, refreshUserObj }) => {\n  const history = useHistory();\n  const [dwitteArray, setDwitteArray] = useState([]);\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n  const onLogoutClick = () => {\n    AuthService.signOut();\n    history.push(\"/\");\n  };\n\n  const getMyDwittes = async () => {\n    const dwittes = await DBService.collection(\"dwitte\")\n      .where(\"creatorId\", \"==\", userObj.uid)\n      .orderBy(\"createdAt\")\n      .get();\n    const dwitteArray = dwittes.docs.map((doc) => doc.data());\n    setDwitteArray(dwitteArray);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await userObj.updateProfile({\n        displayName: newDisplayName,\n      });\n      refreshUserObj(newDisplayName);\n    }\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDisplayName(value);\n  };\n\n  useEffect(() => {\n    getMyDwittes();\n  }, []);\n\n  return (\n    <>\n      <div className=\"dummy\"></div>\n      <form onSubmit={onSubmit} className=\"edit-profile-form\">\n        <input\n          type=\"text\"\n          value={newDisplayName}\n          placeholder=\"Display name\"\n          onChange={onChange}\n          className=\"new-username-input\"\n        />\n        <button type=\"submit\" className=\"submit-username\">\n          수정\n        </button>\n        <button onClick={onLogoutClick} className=\"logout\">\n          logout\n        </button>\n      </form>\n      <div className=\"dwitte-container\">\n        {dwitteArray &&\n          dwitteArray.map((dw) => (\n            <Dwitte\n              key={dw.createdAt}\n              dwitteObj={dw}\n              isOwner={dw.creatorId === userObj.uid}\n            />\n          ))}\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport AuthForm from \"routes/AuthForm\";\nimport Home from \"routes/Home\";\nimport Navigation from \"components/Navigation\";\nimport Profile from \"routes/Profile\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUserObj }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n      <Switch>\n        {isLoggedIn ? (\n          <>\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile userObj={userObj} refreshUserObj={refreshUserObj} />\n            </Route>\n          </>\n        ) : (\n          <Route exact path=\"/\">\n            <AuthForm />\n          </Route>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { AuthService } from \"mybase\";\nimport \"components/CSS/reset.css\";\nimport \"components/CSS/style_Profile.css\";\nimport \"components/CSS/style_Main.css\";\nimport \"components/CSS/style_AuthForm.css\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(AuthService.currentUser);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    AuthService.onAuthStateChanged((User) => {\n      if (User) {\n        setUserObj({\n          displayName: User.displayName,\n          uid: User.uid,\n          updateProfile: (newProfile) => {\n            User.updateProfile(newProfile);\n          },\n        });\n        setIsLoggedIn(true);\n      } else {\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUserObj = (newDisplayName) => {\n    setUserObj({\n      displayName: newDisplayName,\n      uid: userObj.uid,\n      updateProfile: (newProfile) => {\n        userObj.updateProfile(newProfile);\n      },\n    });\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUserObj={refreshUserObj}\n          isLoggedIn={isLoggedIn}\n          userObj={userObj}\n        />\n      ) : (\n        \"init...\"\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport mybase from \"mybase\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}