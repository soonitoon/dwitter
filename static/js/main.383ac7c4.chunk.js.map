{"version":3,"sources":["mybase.js","components/AuthWithSocial.js","routes/AuthForm.js","components/Dwitte.js","components/DwitteFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Router.js","components/Loading.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","AuthService","auth","DBService","firestore","storageService","storage","AuthWithSocial","useState","socialLoginError","SetsocialLoginError","onSocialClick","event","a","name","target","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","message","onClick","className","AuthForm","error","setError","email","setEmail","password","setPassword","newAccount","setNewAccount","onChange","value","onSubmit","preventDefault","createUserWithEmailAndPassword","signInWithEmailAndPassword","type","required","placeholder","prev","Dwitte","dwitteObj","isOwner","editing","setEditing","text","newDwitte","setNewDwitte","onDeleteClick","window","confirm","doc","id","delete","attachmentURL","refFromURL","toggleEditing","update","creatorName","src","width","height","alt","DwitteFactory","userObj","dwitte","setDwitte","attachment","setAttachment","errorMsg","setErrorMsg","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","createdAt","Date","now","creatorId","displayName","collection","add","maxLength","htmlFor","accept","theFile","files","reader","FileReader","readAsDataURL","onloadend","finishedEvent","result","currentTarget","Home","dwittes","setDwittes","useEffect","unsubscribe","orderBy","onSnapshot","snapshot","dwitteArray","docs","map","data","dw","Navigation","setDisplayName","to","Profile","refreshUserObj","setDwitteArray","newDisplayName","setNewDisplayName","history","useHistory","updateProfile","where","signOut","push","AppRouter","isLoggedIn","exact","path","Loading","App","init","setInit","currentUser","setIsLoggedIn","setUserObj","onAuthStateChanged","User","newProfile","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.383ac7c4.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n  appId: process.env.REACT_APP_PP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\nexport const AuthService = firebase.auth();\nexport const DBService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import { AuthService, firebaseInstance } from \"mybase\";\nimport React, { useState } from \"react\";\n\nconst AuthWithSocial = () => {\n  const [socialLoginError, SetsocialLoginError] = useState(\"\");\n\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n    try {\n      await AuthService.signInWithPopup(provider);\n    } catch (err) {\n      SetsocialLoginError(err.message);\n    }\n  };\n  return (\n    <>\n      <button onClick={onSocialClick} name=\"google\" className=\"google-login\">\n        Goolge로 가입하기\n      </button>\n      <br />\n      <button onClick={onSocialClick} name=\"github\" className=\"github-login\">\n        Github으로 가입하기\n      </button>\n      <p className=\"login-error\">{socialLoginError}</p>\n    </>\n  );\n};\n\nexport default AuthWithSocial;\n","import React, { useState } from \"react\";\nimport { AuthService } from \"mybase\";\nimport AuthWithSocial from \"components/AuthWithSocial\";\nimport { BsPeople, BsSearch } from \"react-icons/bs\";\nimport { IoLogoTwitter } from \"react-icons/io5\";\n\nconst AuthForm = () => {\n  const [error, setError] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(false);\n\n  const toggleAccount = () => {\n    setNewAccount((prev) => !prev);\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      if (newAccount) {\n        await AuthService.createUserWithEmailAndPassword(email, password);\n      } else {\n        await AuthService.signInWithEmailAndPassword(email, password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <>\n      <IoLogoTwitter className=\"top-dwitte-icon\" />\n      <h1 className=\"main-title\">\n        지금 전 세계에서 무슨 일이\n        <br /> 일어나고 있는지 알아보세요.\n      </h1>\n      <h5 className=\"sub-title\">오늘 드위터에 가입하세요.</h5>\n      <AuthWithSocial />\n      <div className=\"color-box\">\n        <h5 className=\"color-box-text\">\n          <BsSearch className=\"color-box-icon\" />\n          <div>관심사를 팔로우 하세요.</div>\n        </h5>\n        <h5 className=\"color-box-text\">\n          <BsPeople className=\"color-box-icon\" />\n          <di>\n            사람들이 무엇에 대해 이야기하고\n            <br />\n            있는지 알아보세요.\n          </di>\n        </h5>\n      </div>\n      <h5 className=\"make-account-title\">혹은, 직접 로그인.</h5>\n      <form onSubmit={onSubmit} className=\"LoginForm\">\n        <input\n          name=\"email\"\n          type=\"text\"\n          required\n          value={email}\n          onChange={onChange}\n          placeholder=\"example@email.com\"\n          className=\"email-input\"\n        ></input>\n        <input\n          name=\"password\"\n          type=\"password\"\n          required\n          value={password}\n          onChange={onChange}\n          placeholder=\"password\"\n          className=\"password-input\"\n        ></input>\n        <input\n          type=\"submit\"\n          className=\"submit-account\"\n          value={newAccount ? \"만들기\" : \"로그인\"}\n        ></input>\n        <button onClick={toggleAccount} className=\"toggle-login\">\n          {newAccount ? \"계정이 있나요?\" : \"계정 만들기\"}\n        </button>\n      </form>\n      <p className=\"login-error\">{error}</p>\n      <footer className=\"AuthFooter\">\n        <p>트위터 클론코딩 -드위터</p>\n      </footer>\n    </>\n  );\n};\n\nexport default AuthForm;\n","import { DBService, storageService } from \"mybase\";\nimport React, { useState } from \"react\";\nimport { BsFillTrashFill, BsPencilSquare } from \"react-icons/bs\";\nimport { ImCancelCircle, ImCheckmark } from \"react-icons/im\";\n\nconst Dwitte = ({ dwitteObj, isOwner }) => {\n  const [editing, setEditing] = useState(false);\n  const [newDwitte, setNewDwitte] = useState(dwitteObj.text);\n\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure?\");\n    if (ok) {\n      await DBService.doc(`dwitte/${dwitteObj.id}`).delete();\n      if (dwitteObj.attachmentURL) {\n        await storageService.refFromURL(dwitteObj.attachmentURL).delete();\n      }\n    }\n  };\n\n  const toggleEditing = () => {\n    setEditing((prev) => !prev);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await DBService.doc(`dwitte/${dwitteObj.id}`).update({\n      text: newDwitte,\n    });\n    setEditing(false);\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDwitte(value);\n  };\n\n  return (\n    <div className=\"dwitte\">\n      {editing ? (\n        <>\n          <form onSubmit={onSubmit}>\n            <h4 className=\"username\">{dwitteObj.creatorName}</h4>\n            <input\n              type=\"text\"\n              placeholder=\"Edit your dwitte\"\n              value={newDwitte}\n              required\n              onChange={onChange}\n              className=\"new-dwitte-input\"\n            />\n            <button type=\"submit\" className=\"submit-new-dwitte\">\n              <ImCheckmark />\n            </button>\n          </form>\n          <button onClick={toggleEditing} className=\"cancel-editing\">\n            <ImCancelCircle />\n          </button>\n        </>\n      ) : (\n        <>\n          <h4 className=\"username\">{dwitteObj.creatorName}</h4>\n          <h4 className=\"dwitte-text\">{dwitteObj.text}</h4>\n          {dwitteObj.attachmentURL && (\n            <img\n              src={dwitteObj.attachmentURL}\n              width=\"110px\"\n              height=\"110px\"\n              className=\"dwitte-image\"\n              alt=\"img\"\n            />\n          )}\n          {isOwner && (\n            <>\n              <button onClick={onDeleteClick} className=\"delete-dwitte\">\n                <BsFillTrashFill />\n              </button>\n              <button onClick={toggleEditing} className=\"edit-dwitte\">\n                <BsPencilSquare />\n              </button>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Dwitte;\n","import React, { useState } from \"react\";\nimport { storageService, DBService } from \"mybase\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nconst DwitteFactory = ({ userObj }) => {\n  const [dwitte, setDwitte] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const onFileChange = (event) => {\n    const {\n      target: { files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(theFile);\n    reader.onloadend = (finishedEvent) => {\n      const {\n        currentTarget: { result },\n      } = finishedEvent;\n      setAttachment(result);\n    };\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setDwitte(value);\n  };\n\n  const onSubmit = async (event) => {\n    if (dwitte !== \"\") {\n      event.preventDefault();\n      let attachmentURL = \"\";\n      if (attachment !== \"\") {\n        const attachmentRef = storageService\n          .ref()\n          .child(`${userObj.uid}/${uuidv4()}`);\n        const response = await attachmentRef.putString(attachment, \"data_url\");\n        attachmentURL = await response.ref.getDownloadURL();\n      }\n      const dwitteObj = {\n        text: dwitte,\n        createdAt: Date.now(),\n        creatorId: userObj.uid,\n        creatorName: userObj.displayName,\n        attachmentURL,\n      };\n      await DBService.collection(\"dwitte\").add(dwitteObj);\n      setDwitte(\"\");\n      setAttachment(\"\");\n      setErrorMsg(\"\");\n    } else {\n      setErrorMsg(\"no dwitte!\");\n    }\n  };\n\n  const onClearAttachmentClick = () => {\n    setAttachment(\"\");\n  };\n\n  return (\n    <form onSubmit={onSubmit} className=\"dwitte-form\">\n      <input\n        value={dwitte}\n        onChange={onChange}\n        type=\"text\"\n        placeholder=\"What's your mind?\"\n        maxLength={120}\n        className=\"dwitte-input\"\n      />\n      <input type=\"submit\" value=\"dwitte\" className=\"submit-dwitte\" />\n      <label htmlFor=\"fileInput\" className=\"file-upload-btn\">\n        <MdAddAPhoto />\n      </label>\n      <p className=\"dwitte-error-msg\">{errorMsg}</p>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={onFileChange}\n        id=\"fileInput\"\n        className=\"file-input\"\n      />\n      {attachment && (\n        <>\n          <img\n            src={attachment}\n            width=\"50px\"\n            height=\"50px\"\n            className=\"attach-img\"\n            alt=\"img\"\n          />\n          <button onClick={onClearAttachmentClick} className=\"delete-img\">\n            X\n          </button>\n        </>\n      )}\n    </form>\n  );\n};\n\nexport default DwitteFactory;\n","import { DBService } from \"mybase\";\nimport React, { useEffect, useState } from \"react\";\nimport Dwitte from \"components/Dwitte\";\nimport DwitteFactory from \"components/DwitteFactory\";\n\nconst Home = ({ userObj }) => {\n  const [dwittes, setDwittes] = useState([]);\n\n  const getDwittes = () => {\n    const unsubscribe = DBService.collection(\"dwitte\")\n      .orderBy(\"createdAt\", \"desc\")\n      .onSnapshot((snapshot) => {\n        const dwitteArray = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setDwittes(dwitteArray);\n      });\n    return unsubscribe;\n  };\n\n  useEffect(() => {\n    const unsubscribe = getDwittes();\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <div className=\"dwitte-container\">\n      <DwitteFactory userObj={userObj} />\n      {dwittes.map((dw) => (\n        <Dwitte\n          key={dw.id}\n          dwitteObj={dw}\n          isOwner={dw.creatorId === userObj.uid}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"components/CSS/style_Main.css\";\nimport { HiOutlineCog } from \"react-icons/hi\";\n\nconst Navigation = ({ userObj }) => {\n  const [displayName, setDisplayName] = useState(\"username\");\n  useEffect(() => {\n    if (userObj.displayName) {\n      setDisplayName(userObj.displayName);\n    }\n  }, [userObj.displayName]);\n  return (\n    <nav>\n      <div className=\"nav-container\">\n        <h5 className=\"home-link\">\n          <Link to=\"/\" className=\"link\">\n            Home\n          </Link>\n        </h5>\n        <h5 className=\"profile-link\">\n          <HiOutlineCog className=\"gear-icon\" />\n          <Link to=\"/profile\" className=\"link profile-name\">\n            {displayName}\n          </Link>\n        </h5>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { AuthService, DBService } from \"mybase\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Dwitte from \"components/Dwitte\";\n\nconst Profile = ({ userObj, refreshUserObj }) => {\n  const [dwitteArray, setDwitteArray] = useState([]);\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n  const history = useHistory();\n\n  const onLogoutClick = () => {\n    AuthService.signOut();\n    history.push(\"/\");\n  };\n\n  const getMyDwittes = () => {\n    const unsubscribe = DBService.collection(\"dwitte\")\n      .where(\"creatorId\", \"==\", userObj.uid)\n      .orderBy(\"createdAt\")\n      .onSnapshot((snapshot) => {\n        const dwitteArray = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setDwitteArray(dwitteArray);\n      });\n    return unsubscribe;\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await userObj.updateProfile({\n        displayName: newDisplayName,\n      });\n      refreshUserObj(newDisplayName);\n    }\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDisplayName(value);\n  };\n\n  useEffect(() => {\n    const unsubscribe = getMyDwittes();\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <>\n      <form onSubmit={onSubmit} className=\"edit-profile-form\">\n        <input\n          type=\"text\"\n          value={newDisplayName}\n          placeholder=\"Display name\"\n          onChange={onChange}\n          className=\"new-username-input\"\n        />\n        <button type=\"submit\" className=\"submit-username\">\n          수정\n        </button>\n        <button onClick={onLogoutClick} className=\"logout\">\n          logout\n        </button>\n      </form>\n      <div className=\"dwitte-container\">\n        {dwitteArray &&\n          dwitteArray.map((dw) => (\n            <Dwitte\n              key={dw.id}\n              dwitteObj={dw}\n              isOwner={dw.creatorId === userObj.uid}\n            />\n          ))}\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport AuthForm from \"routes/AuthForm\";\nimport Home from \"routes/Home\";\nimport Navigation from \"components/Navigation\";\nimport Profile from \"routes/Profile\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUserObj }) => {\n  return (\n    <Router>\n      {isLoggedIn ? (\n        <>\n          <Navigation userObj={userObj} />\n          <Route exact path=\"/\">\n            <Home userObj={userObj} />\n          </Route>\n          <Route path=\"/profile\">\n            <Profile userObj={userObj} refreshUserObj={refreshUserObj} />\n          </Route>\n        </>\n      ) : (\n        <Route path=\"/\">\n          <AuthForm />\n        </Route>\n      )}\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import React from \"react\";\n\nfunction Loading() {\n  return (\n    <div className=\"background-color\">\n      <div className=\"loading\"></div>\n    </div>\n  );\n}\n\nexport default Loading;\n","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport Loading from \"components/Loading\";\nimport { AuthService } from \"mybase\";\nimport \"components/CSS/reset.css\";\nimport \"components/CSS/style_Loading.css\";\nimport \"components/CSS/style_AuthForm.css\";\nimport \"components/CSS/style_Main.css\";\nimport \"components/CSS/style_Profile.css\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(AuthService.currentUser);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    AuthService.onAuthStateChanged((User) => {\n      if (User) {\n        setUserObj({\n          displayName: User.displayName,\n          uid: User.uid,\n          updateProfile: (newProfile) => {\n            User.updateProfile(newProfile);\n          },\n        });\n        setIsLoggedIn(true);\n      } else {\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUserObj = (newDisplayName) => {\n    setUserObj({\n      displayName: newDisplayName,\n      uid: userObj.uid,\n      updateProfile: (newProfile) => {\n        userObj.updateProfile(newProfile);\n      },\n    });\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUserObj={refreshUserObj}\n          isLoggedIn={isLoggedIn}\n          userObj={userObj}\n        />\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}